(this["webpackJsonpswish-test-task"]=this["webpackJsonpswish-test-task"]||[]).push([[0],{103:function(n,e,t){},104:function(n,e,t){},1599:function(n,e,t){"use strict";t.r(e);var c,r=t(2),a=t.n(r),i=t(41),u=t.n(i),o=(t(103),t(19)),s=t(40),l=(t(104),t(6)),j=function n(e){var t=e.item,c=Object(r.useState)(!1),a=Object(s.a)(c,2),i=a[0],u=a[1],o=t.countries&&t.countries.length>0,j=t.languages&&t.languages.length>0,d=Object(r.useContext)(C),b=d.registerCallback,h=d.removeCallback,f=d.callbacks,m=function(){return u(!1)};return Object(r.useEffect)((function(){if(o)return b(m),function(){h(m)}}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"countries",children:[Object(l.jsxs)("h2",{onClick:o?function(n){n.stopPropagation(),u((function(n){return!n}))}:void 0,className:"countries__name",children:[t.emoji,t.name]}),j&&Object(l.jsx)("span",{children:t.languages[0].name})]}),o&&i&&Object(l.jsx)("ul",{children:t.countries.map((function(e,c){return Object(l.jsx)("li",{onClick:function(){return c===t.countries.length-1&&f.forEach((function(n){return n()}))},children:Object(l.jsx)(n,{item:e})},e.name)}))})]})},d=t(1626),b=t(1631),h=t(1629),f=t(36),m=t(1625),O=t(1627),p=t(1628),x={client:new m.a({uri:"https://countries.trevorblades.com/",cache:new O.a}),CountriesQueryDocument:Object(p.a)(c||(c=Object(f.a)(["\n    query {\n      continents {\n        code\n        name\n        countries {\n          name\n          emoji\n          languages {\n            name\n          }\n        }\n      }\n    }\n  "])))},g=t(90),v=function n(e){var t=e.depth,c=e.childrenCount;return{name:g.name.findName(),countries:t>0?Object(o.a)(new Array(c)).map((function(){return n({depth:t-1,childrenCount:c})})):[]}},C=a.a.createContext();console.log(function(n){var e=n.depth,t=n.childrenCount;return{data:Object(o.a)(new Array(t)).map((function(){return v({depth:e-1,childrenCount:t})}))}}({depth:2,childrenCount:2}));var k=function(){var n=Object(h.a)(x.CountriesQueryDocument),e=n.loading,t=n.data,c=Object(r.useState)([]),a=Object(s.a)(c,2),i=a[0],u=a[1];return Object(l.jsx)(l.Fragment,{children:e?Object(l.jsx)(d.a,{sx:{color:"#fff",zIndex:function(n){return n.zIndex.drawer+1}},open:!0,children:Object(l.jsx)(b.a,{color:"inherit"})}):Object(l.jsx)(C.Provider,{value:{callbacks:i,registerCallback:function(n){return u((function(e){return[].concat(Object(o.a)(e),[n])}))},removeCallback:function(n){return u((function(e){var t=e.indexOf(n);if(t>-1)return e.splice(t,1),e}))}},children:Object(l.jsx)("div",{className:"App",style:{width:"50%",margin:"0 15px"},children:t.continents.map((function(n){return Object(l.jsx)(j,{item:n},n.name)}))})})})},w=t(1624);u.a.render(Object(l.jsx)(w.a,{client:x.client,children:Object(l.jsx)(k,{})}),document.getElementById("root"))}},[[1599,1,2]]]);
//# sourceMappingURL=main.a6aa28bd.chunk.js.map